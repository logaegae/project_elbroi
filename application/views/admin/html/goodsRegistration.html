<div class="bg-light lter b-b wrapper-md">
    <h1 class="m-n font-thin h3">상품등록</h1>
</div>
<div class="wrapper-md" ng-controller="GoodsRegistrationCtrl">
    <div class="panel panel-default">
        <div class="panel-heading font-bold">
            상품정보 입력
        </div>
        <div class="panel-body">
            <form class="form-horizontal" method="post">
                <div class="form-group">
                    <label class="col-sm-2 control-label">상품명</label>
                    <div class="col-sm-10">
                        <input type="text" class="form-control" name="name" ng-model="data.name">
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">썸네일 이미지</label>
                    <div class="col-sm-10">
                        <input type="file" name="thumb" accept="image/*" onchange="loadFile(event)">
                    </div>
                    <div class="text-center">
                        <img id="output"/>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">가격</label>
                    <div class="col-sm-10">
                        <div class="input-group m-b col-md-4">
                            <input type="number" class="form-control" name="price" ng-model="data.price">
                            <span class="input-group-addon">원</span>
                        </div>
                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">재고설정</label>
                    <div class="col-sm-10">
                        <div class="radio inline">
                            <label class="i-checks">
                                <input type="radio" name="stockYn" ng-model="stockYn" value="false" checked>
                                <i></i>
                                관리안함
                            </label>
                        </div>
                        &nbsp;&nbsp;
                        <div class="radio inline">
                            <label class="i-checks">
                                <input type="radio" name="stockYn" ng-model="stockYn" value="true" >
                                <i></i>
                                관리함
                            </label>
                        </div>
                        <br>
                        <br>
                        <div class="input-group m-b col-md-4" ng-if="stockYn == 'true'">
                            <input type="number" class="form-control" name="stock" ng-model="data.stock">
                            <span class="input-group-addon">개</span>
                        </div>

                    </div>
                </div>
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <label class="col-sm-2 control-label">상세정보</label>
                    <div class="col-sm-10">
                        <div class="btn-toolbar m-b-sm btn-editor" data-role="editor-toolbar" data-target="#editor">
                            <div class="btn-group dropdown" dropdown>
                                <a class="btn btn-default" dropdown-toggle tooltip="Font"><i class="fa fa-font"></i><b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href data-edit="fontName Serif" style="font-family:'Serif'">Serif</a></li>
                                    <li><a href data-edit="fontName Sans" style="font-family:'Sans'">Sans</a></li>
                                    <li><a href data-edit="fontName Arial" style="font-family:'Arial'">Arial</a></li>
                                </ul>
                            </div>
                            <div class="btn-group dropdown" dropdown>
                                <a class="btn btn-default" dropdown-toggle data-toggle="dropdown" tooltip="Font Size"><i class="fa fa-text-height"></i>&nbsp;<b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    <li><a href data-edit="fontSize 5" style="font-size:24px">Huge</a></li>
                                    <li><a href data-edit="fontSize 3" style="font-size:18px">Normal</a></li>
                                    <li><a href data-edit="fontSize 1" style="font-size:14px">Small</a></li>
                                </ul>
                            </div>
                            <div class="btn-group">
                                <a class="btn btn-default" data-edit="bold" tooltip="Bold (Ctrl/Cmd+B)"><i class="fa fa-bold"></i></a>
                                <a class="btn btn-default" data-edit="italic" tooltip="Italic (Ctrl/Cmd+I)"><i class="fa fa-italic"></i></a>
                                <a class="btn btn-default" data-edit="strikethrough" tooltip="Strikethrough"><i class="fa fa-strikethrough"></i></a>
                                <a class="btn btn-default" data-edit="underline" tooltip="Underline (Ctrl/Cmd+U)"><i class="fa fa-underline"></i></a>
                            </div>
                            <div class="btn-group">
                                <a class="btn btn-default" data-edit="insertunorderedlist" tooltip="Bullet list"><i class="fa fa-list-ul"></i></a>
                                <a class="btn btn-default" data-edit="insertorderedlist" tooltip="Number list"><i class="fa fa-list-ol"></i></a>
                                <a class="btn btn-default" data-edit="outdent" tooltip="Reduce indent (Shift+Tab)"><i class="fa fa-dedent"></i></a>
                                <a class="btn btn-default" data-edit="indent" tooltip="Indent (Tab)"><i class="fa fa-indent"></i></a>
                            </div>
                            <div class="btn-group">
                                <a class="btn btn-default" data-edit="justifyleft" tooltip="Align Left (Ctrl/Cmd+L)"><i class="fa fa-align-left"></i></a>
                                <a class="btn btn-default" data-edit="justifycenter" tooltip="Center (Ctrl/Cmd+E)"><i class="fa fa-align-center"></i></a>
                                <a class="btn btn-default" data-edit="justifyright" tooltip="Align Right (Ctrl/Cmd+R)"><i class="fa fa-align-right"></i></a>
                                <a class="btn btn-default" data-edit="justifyfull" tooltip="Justify (Ctrl/Cmd+J)"><i class="fa fa-align-justify"></i></a>
                            </div>
                            <div class="btn-group dropdown" dropdown>
                                <a class="btn btn-default" dropdown-toggle tooltip="Hyperlink"><i class="fa fa-link"></i></a>
                                <div class="dropdown-menu">
                                    <div class="input-group m-l-xs m-r-xs">
                                        <input class="form-control input-sm" id="LinkInput" placeholder="URL" type="text" data-edit="createLink" />
                                        <div class="input-group-btn">
                                            <button class="btn btn-sm btn-default" type="button">Add</button>
                                        </div>
                                    </div>
                                </div>
                                <a class="btn btn-default" data-edit="unlink" tooltip="Remove Hyperlink"><i class="fa fa-cut"></i></a>
                            </div>

                            <div class="btn-group">
                                <a class="btn btn-default" tooltip="Insert picture (or just drag & drop)" id="pictureBtn"><i class="fa fa-picture-o"></i></a>
                                <input type="file" data-edit="insertImage" style="position:absolute; opacity:0; width:41px; height:34px" />
                            </div>
                            <div class="btn-group">
                                <a class="btn btn-default" data-edit="undo" tooltip="Undo (Ctrl/Cmd+Z)"><i class="fa fa-undo"></i></a>
                                <a class="btn btn-default" data-edit="redo" tooltip="Redo (Ctrl/Cmd+Y)"><i class="fa fa-repeat"></i></a>
                            </div>
                        </div>
                        <div ui-jq="wysiwyg" class="form-control" style="overflow:scroll;height:200px;max-height:200px" id="detail">
                            Go ahead&hellip;
                        </div>
                    </div>
                </div>
                {{data.detail}}
                <div class="line line-dashed b-b line-lg pull-in"></div>
                <div class="form-group">
                    <div class="col-sm-2 col-sm-offset-5 text-center">
                        <button ng-click="submitData()" class="btn btn-primary">등록하기</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">

    var loadFile = function(event) {
        var output = document.getElementById('output');
        try{
            output.src = URL.createObjectURL(event.target.files[0]);
            output.style.height = "200px";
        }catch(e){
        }
    };
    window.token = {
        <?php echo $this->security->get_csrf_token_name(); ?>: '<?php echo $this->security->get_csrf_hash(); ?>',
        code: 'SITE_MAIN_IMAGE',
        updateId : '<?php echo $_SESSION['adminEmail'] ?>'
    };
</script>
